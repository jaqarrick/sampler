{"id":"script.js","dependencies":[{"name":"/Users/johncarrick/Web/current-projects/sampler/package.json","includedInParent":true,"mtime":1602201853440},{"name":"wavesurfer.js","loc":{"line":1,"column":23},"parent":"/Users/johncarrick/Web/current-projects/sampler/script.js","resolved":"/Users/johncarrick/Web/current-projects/sampler/node_modules/wavesurfer.js/dist/wavesurfer.js"},{"name":"./garoto.mp3","loc":{"line":3,"column":19},"parent":"/Users/johncarrick/Web/current-projects/sampler/script.js","resolved":"/Users/johncarrick/Web/current-projects/sampler/garoto.mp3"},{"name":"./node_modules/wavesurfer.js/dist/plugin/wavesurfer.regions","loc":{"line":4,"column":26},"parent":"/Users/johncarrick/Web/current-projects/sampler/script.js","resolved":"/Users/johncarrick/Web/current-projects/sampler/node_modules/wavesurfer.js/dist/plugin/wavesurfer.regions.js"},{"name":"tone","loc":{"line":5,"column":22},"parent":"/Users/johncarrick/Web/current-projects/sampler/script.js","resolved":"/Users/johncarrick/Web/current-projects/sampler/node_modules/tone/build/esm/index.js"}],"generated":{"js":"\"use strict\";\n\nvar _wavesurfer = _interopRequireDefault(require(\"wavesurfer.js\"));\n\nvar _garoto = _interopRequireDefault(require(\"./garoto.mp3\"));\n\nvar _wavesurfer2 = _interopRequireDefault(require(\"./node_modules/wavesurfer.js/dist/plugin/wavesurfer.regions\"));\n\nvar Tone = _interopRequireWildcard(require(\"tone\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import sample from \"./ursula.mp3\"\nlet allSamples = [];\n\nconst waveSurfer = _wavesurfer.default.create({\n  container: \"#wavesurfer-container\",\n  waveColor: \"violet\",\n  progressColor: \"purple\",\n  backend: \"MediaElementWebAudio\",\n  plugins: [_wavesurfer2.default.create({\n    regionsMinLength: 0,\n    regions: [],\n    dragSelection: {\n      slop: 1\n    }\n  })]\n});\n\nwaveSurfer.load(_garoto.default);\n\ndocument.querySelector('#slider').oninput = function () {\n  waveSurfer.zoom(Number(this.value));\n}; // Creates a mediastream for mediaRecorder\n\n\nconst streamDestination = waveSurfer.backend.ac.createMediaStreamDestination(); // Creates a gainNode to use as a wavesurfer filter (just needs to be something for the audio to pass through)\n\nconst gainNode = waveSurfer.backend.ac.createGain(); // Connects gain node to the audio stream\n\ngainNode.connect(streamDestination);\nwaveSurfer.backend.setFilter(gainNode); // Sets up media recorder\n\nconst mediaRecorder = new MediaRecorder(streamDestination.stream);\nconst startRecBtn = document.getElementById(\"start-recording\");\nconst stopRecBtn = document.getElementById(\"stop-recording\");\n\nstartRecBtn.onclick = () => startRecording();\n\nstopRecBtn.onclick = () => stopRecording();\n\ndocument.body.addEventListener(\"keydown\", e => {\n  if (e.keycode == 32) {\n    startRecording();\n  }\n});\n\nfunction stopRecording() {\n  console.log(\"recording stopped\"); // Stopping the recorder will eventually trigger the `dataavailable` event and we can complete the recording process\n\n  mediaRecorder.stop();\n}\n\nfunction startRecording() {\n  console.log(\"recording started\"); //Starts playing the sample\n\n  waveSurfer.play(region1.start, region1.end); //Determines the length of the sample and stops the recorder after the sample has finished playing\n\n  const duration = region1.end - region1.start;\n  mediaRecorder.start();\n  setTimeout(stopRecording, duration * 1000);\n}\n\nvar audio = document.getElementById(\"audio\");\nconst sampleContainer = document.querySelector(\"#sample-container\");\n\nfunction renderSamples() {\n  allSamples.forEach(dataElement => {\n    //make audio object\n    const audioElement = document.createElement('audio');\n    audioElement.src = URL.createObjectURL(dataElement);\n    audioElement.setAttribute(\"controls\", true);\n    sampleContainer.appendChild(audioElement); //make recording link\n\n    let recordedChunks = [];\n\n    if (dataElement.size > 0) {\n      recordedChunks.push(dataElement);\n      download(recordedChunks);\n    }\n  });\n}\n\nfunction createNewSample(data) {\n  //add data to array\n  allSamples.push(data); //render all recordings function\n\n  renderSamples();\n}\n\nconst onRecordingReady = e => createNewSample(e.data); // This triggers when the file is ready for playback\n\n\nmediaRecorder.addEventListener(\"dataavailable\", onRecordingReady);\n\nfunction download(recordedChunks) {\n  var blob = new Blob(recordedChunks, {\n    type: \"audio/wav; codecs=MS_PCM\"\n  });\n  var url = URL.createObjectURL(blob);\n  var a = document.createElement(\"a\");\n  sampleContainer.appendChild(a);\n  a.innerText = 'Download Sample';\n  a.href = url;\n  a.download = \"sample.wav\"; // window.URL.revokeObjectURL(url);\n}\n\nconst region1 = waveSurfer.addRegion({\n  start: 1,\n  end: 9,\n  loop: false,\n  color: \"hsla(400, 100%, 30%, 0.5)\"\n});\nconst playBtn = document.querySelector(\"#play\");\nconst stopBtn = document.querySelector(\"#stop\");\n\nplayBtn.onclick = () => {\n  waveSurfer.play(region1.start, region1.end);\n};\n\nstopBtn.onclick = () => waveSurfer.stop();"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":3,"column":0},"source":"script.js","original":{"line":1,"column":0}},{"generated":{"line":5,"column":0},"source":"script.js","original":{"line":3,"column":0}},{"generated":{"line":7,"column":0},"source":"script.js","original":{"line":4,"column":0}},{"generated":{"line":9,"column":0},"source":"script.js","original":{"line":5,"column":0}},{"generated":{"line":17,"column":0},"source":"script.js","original":{"line":2,"column":0}},{"generated":{"line":18,"column":0},"source":"script.js","original":{"line":7,"column":0}},{"name":"allSamples","generated":{"line":18,"column":4},"source":"script.js","original":{"line":7,"column":4}},{"generated":{"line":18,"column":14},"source":"script.js","original":{"line":7,"column":14}},{"generated":{"line":18,"column":17},"source":"script.js","original":{"line":7,"column":17}},{"generated":{"line":18,"column":19},"source":"script.js","original":{"line":7,"column":0}},{"generated":{"line":20,"column":0},"source":"script.js","original":{"line":10,"column":0}},{"name":"waveSurfer","generated":{"line":20,"column":6},"source":"script.js","original":{"line":10,"column":6}},{"generated":{"line":20,"column":16},"source":"script.js","original":{"line":10,"column":16}},{"name":"WaveSurfer","generated":{"line":20,"column":19},"source":"script.js","original":{"line":10,"column":19}},{"name":"create","generated":{"line":20,"column":39},"source":"script.js","original":{"line":10,"column":30}},{"generated":{"line":20,"column":45},"source":"script.js","original":{"line":10,"column":19}},{"generated":{"line":20,"column":46},"source":"script.js","original":{"line":10,"column":37}},{"name":"container","generated":{"line":21,"column":0},"source":"script.js","original":{"line":11,"column":1}},{"name":"container","generated":{"line":21,"column":2},"source":"script.js","original":{"line":11,"column":1}},{"generated":{"line":21,"column":11},"source":"script.js","original":{"line":11,"column":10}},{"generated":{"line":21,"column":13},"source":"script.js","original":{"line":11,"column":12}},{"generated":{"line":21,"column":36},"source":"script.js","original":{"line":10,"column":37}},{"name":"waveColor","generated":{"line":22,"column":0},"source":"script.js","original":{"line":12,"column":1}},{"name":"waveColor","generated":{"line":22,"column":2},"source":"script.js","original":{"line":12,"column":1}},{"generated":{"line":22,"column":11},"source":"script.js","original":{"line":12,"column":10}},{"generated":{"line":22,"column":13},"source":"script.js","original":{"line":12,"column":12}},{"generated":{"line":22,"column":21},"source":"script.js","original":{"line":10,"column":37}},{"name":"progressColor","generated":{"line":23,"column":0},"source":"script.js","original":{"line":13,"column":1}},{"name":"progressColor","generated":{"line":23,"column":2},"source":"script.js","original":{"line":13,"column":1}},{"generated":{"line":23,"column":15},"source":"script.js","original":{"line":13,"column":14}},{"generated":{"line":23,"column":17},"source":"script.js","original":{"line":13,"column":16}},{"generated":{"line":23,"column":25},"source":"script.js","original":{"line":10,"column":37}},{"name":"backend","generated":{"line":24,"column":0},"source":"script.js","original":{"line":14,"column":1}},{"name":"backend","generated":{"line":24,"column":2},"source":"script.js","original":{"line":14,"column":1}},{"generated":{"line":24,"column":9},"source":"script.js","original":{"line":14,"column":8}},{"generated":{"line":24,"column":11},"source":"script.js","original":{"line":14,"column":10}},{"generated":{"line":24,"column":33},"source":"script.js","original":{"line":10,"column":37}},{"name":"plugins","generated":{"line":25,"column":0},"source":"script.js","original":{"line":15,"column":1}},{"name":"plugins","generated":{"line":25,"column":2},"source":"script.js","original":{"line":15,"column":1}},{"generated":{"line":25,"column":9},"source":"script.js","original":{"line":15,"column":8}},{"generated":{"line":25,"column":11},"source":"script.js","original":{"line":15,"column":10}},{"name":"RegionsPlugin","generated":{"line":25,"column":12},"source":"script.js","original":{"line":16,"column":2}},{"name":"create","generated":{"line":25,"column":33},"source":"script.js","original":{"line":16,"column":16}},{"generated":{"line":25,"column":39},"source":"script.js","original":{"line":16,"column":2}},{"generated":{"line":25,"column":40},"source":"script.js","original":{"line":16,"column":23}},{"name":"regionsMinLength","generated":{"line":26,"column":0},"source":"script.js","original":{"line":17,"column":3}},{"name":"regionsMinLength","generated":{"line":26,"column":4},"source":"script.js","original":{"line":17,"column":3}},{"generated":{"line":26,"column":20},"source":"script.js","original":{"line":17,"column":19}},{"generated":{"line":26,"column":22},"source":"script.js","original":{"line":17,"column":21}},{"generated":{"line":26,"column":23},"source":"script.js","original":{"line":16,"column":23}},{"name":"regions","generated":{"line":27,"column":0},"source":"script.js","original":{"line":18,"column":3}},{"name":"regions","generated":{"line":27,"column":4},"source":"script.js","original":{"line":18,"column":3}},{"generated":{"line":27,"column":11},"source":"script.js","original":{"line":18,"column":10}},{"generated":{"line":27,"column":13},"source":"script.js","original":{"line":18,"column":12}},{"generated":{"line":27,"column":15},"source":"script.js","original":{"line":16,"column":23}},{"name":"dragSelection","generated":{"line":28,"column":0},"source":"script.js","original":{"line":19,"column":3}},{"name":"dragSelection","generated":{"line":28,"column":4},"source":"script.js","original":{"line":19,"column":3}},{"generated":{"line":28,"column":17},"source":"script.js","original":{"line":19,"column":16}},{"generated":{"line":28,"column":19},"source":"script.js","original":{"line":19,"column":18}},{"name":"slop","generated":{"line":29,"column":0},"source":"script.js","original":{"line":20,"column":4}},{"name":"slop","generated":{"line":29,"column":6},"source":"script.js","original":{"line":20,"column":4}},{"generated":{"line":29,"column":10},"source":"script.js","original":{"line":20,"column":8}},{"generated":{"line":29,"column":12},"source":"script.js","original":{"line":20,"column":10}},{"generated":{"line":30,"column":0},"source":"script.js","original":{"line":19,"column":18}},{"generated":{"line":31,"column":0},"source":"script.js","original":{"line":16,"column":23}},{"generated":{"line":31,"column":3},"source":"script.js","original":{"line":16,"column":2}},{"generated":{"line":31,"column":4},"source":"script.js","original":{"line":15,"column":10}},{"generated":{"line":32,"column":0},"source":"script.js","original":{"line":10,"column":37}},{"generated":{"line":32,"column":1},"source":"script.js","original":{"line":10,"column":19}},{"generated":{"line":32,"column":2},"source":"script.js","original":{"line":10,"column":0}},{"name":"waveSurfer","generated":{"line":34,"column":0},"source":"script.js","original":{"line":26,"column":0}},{"generated":{"line":34,"column":10},"source":"script.js","original":{"line":26,"column":10}},{"name":"load","generated":{"line":34,"column":11},"source":"script.js","original":{"line":26,"column":11}},{"generated":{"line":34,"column":15},"source":"script.js","original":{"line":26,"column":0}},{"name":"sample","generated":{"line":34,"column":16},"source":"script.js","original":{"line":26,"column":16}},{"generated":{"line":34,"column":31},"source":"script.js","original":{"line":26,"column":0}},{"name":"document","generated":{"line":36,"column":0},"source":"script.js","original":{"line":28,"column":0}},{"generated":{"line":36,"column":8},"source":"script.js","original":{"line":28,"column":8}},{"name":"querySelector","generated":{"line":36,"column":9},"source":"script.js","original":{"line":28,"column":9}},{"generated":{"line":36,"column":22},"source":"script.js","original":{"line":28,"column":0}},{"generated":{"line":36,"column":23},"source":"script.js","original":{"line":28,"column":23}},{"generated":{"line":36,"column":32},"source":"script.js","original":{"line":28,"column":0}},{"name":"oninput","generated":{"line":36,"column":34},"source":"script.js","original":{"line":28,"column":34}},{"generated":{"line":36,"column":41},"source":"script.js","original":{"line":28,"column":0}},{"generated":{"line":36,"column":44},"source":"script.js","original":{"line":28,"column":44}},{"generated":{"line":36,"column":56},"source":"script.js","original":{"line":28,"column":56}},{"name":"waveSurfer","generated":{"line":37,"column":0},"source":"script.js","original":{"line":29,"column":1}},{"name":"waveSurfer","generated":{"line":37,"column":2},"source":"script.js","original":{"line":29,"column":1}},{"generated":{"line":37,"column":12},"source":"script.js","original":{"line":29,"column":11}},{"name":"zoom","generated":{"line":37,"column":13},"source":"script.js","original":{"line":29,"column":12}},{"generated":{"line":37,"column":17},"source":"script.js","original":{"line":29,"column":1}},{"name":"Number","generated":{"line":37,"column":18},"source":"script.js","original":{"line":29,"column":17}},{"generated":{"line":37,"column":24},"source":"script.js","original":{"line":29,"column":23}},{"generated":{"line":37,"column":25},"source":"script.js","original":{"line":29,"column":24}},{"name":"value","generated":{"line":37,"column":30},"source":"script.js","original":{"line":29,"column":29}},{"generated":{"line":37,"column":35},"source":"script.js","original":{"line":29,"column":23}},{"generated":{"line":37,"column":36},"source":"script.js","original":{"line":29,"column":1}},{"generated":{"line":38,"column":0},"source":"script.js","original":{"line":30,"column":1}},{"generated":{"line":38,"column":1},"source":"script.js","original":{"line":28,"column":0}},{"generated":{"line":38,"column":3},"source":"script.js","original":{"line":36,"column":0}},{"generated":{"line":41,"column":0},"source":"script.js","original":{"line":37,"column":0}},{"name":"streamDestination","generated":{"line":41,"column":6},"source":"script.js","original":{"line":37,"column":6}},{"generated":{"line":41,"column":23},"source":"script.js","original":{"line":37,"column":23}},{"name":"waveSurfer","generated":{"line":41,"column":26},"source":"script.js","original":{"line":37,"column":26}},{"generated":{"line":41,"column":36},"source":"script.js","original":{"line":37,"column":36}},{"name":"backend","generated":{"line":41,"column":37},"source":"script.js","original":{"line":37,"column":37}},{"generated":{"line":41,"column":44},"source":"script.js","original":{"line":37,"column":26}},{"name":"ac","generated":{"line":41,"column":45},"source":"script.js","original":{"line":37,"column":45}},{"generated":{"line":41,"column":47},"source":"script.js","original":{"line":37,"column":26}},{"name":"createMediaStreamDestination","generated":{"line":41,"column":48},"source":"script.js","original":{"line":37,"column":48}},{"generated":{"line":41,"column":76},"source":"script.js","original":{"line":37,"column":26}},{"generated":{"line":41,"column":78},"source":"script.js","original":{"line":37,"column":0}},{"generated":{"line":41,"column":80},"source":"script.js","original":{"line":39,"column":0}},{"generated":{"line":43,"column":0},"source":"script.js","original":{"line":40,"column":0}},{"name":"gainNode","generated":{"line":43,"column":6},"source":"script.js","original":{"line":40,"column":6}},{"generated":{"line":43,"column":14},"source":"script.js","original":{"line":40,"column":14}},{"name":"waveSurfer","generated":{"line":43,"column":17},"source":"script.js","original":{"line":40,"column":17}},{"generated":{"line":43,"column":27},"source":"script.js","original":{"line":40,"column":27}},{"name":"backend","generated":{"line":43,"column":28},"source":"script.js","original":{"line":40,"column":28}},{"generated":{"line":43,"column":35},"source":"script.js","original":{"line":40,"column":17}},{"name":"ac","generated":{"line":43,"column":36},"source":"script.js","original":{"line":40,"column":36}},{"generated":{"line":43,"column":38},"source":"script.js","original":{"line":40,"column":17}},{"name":"createGain","generated":{"line":43,"column":39},"source":"script.js","original":{"line":40,"column":39}},{"generated":{"line":43,"column":49},"source":"script.js","original":{"line":40,"column":17}},{"generated":{"line":43,"column":51},"source":"script.js","original":{"line":40,"column":0}},{"generated":{"line":43,"column":53},"source":"script.js","original":{"line":42,"column":0}},{"name":"gainNode","generated":{"line":45,"column":0},"source":"script.js","original":{"line":43,"column":0}},{"generated":{"line":45,"column":8},"source":"script.js","original":{"line":43,"column":8}},{"name":"connect","generated":{"line":45,"column":9},"source":"script.js","original":{"line":43,"column":9}},{"generated":{"line":45,"column":16},"source":"script.js","original":{"line":43,"column":0}},{"name":"streamDestination","generated":{"line":45,"column":17},"source":"script.js","original":{"line":43,"column":17}},{"generated":{"line":45,"column":34},"source":"script.js","original":{"line":43,"column":0}},{"name":"waveSurfer","generated":{"line":46,"column":0},"source":"script.js","original":{"line":45,"column":0}},{"generated":{"line":46,"column":10},"source":"script.js","original":{"line":45,"column":10}},{"name":"backend","generated":{"line":46,"column":11},"source":"script.js","original":{"line":45,"column":11}},{"generated":{"line":46,"column":18},"source":"script.js","original":{"line":45,"column":0}},{"name":"setFilter","generated":{"line":46,"column":19},"source":"script.js","original":{"line":45,"column":19}},{"generated":{"line":46,"column":28},"source":"script.js","original":{"line":45,"column":0}},{"name":"gainNode","generated":{"line":46,"column":29},"source":"script.js","original":{"line":45,"column":29}},{"generated":{"line":46,"column":37},"source":"script.js","original":{"line":45,"column":0}},{"generated":{"line":46,"column":40},"source":"script.js","original":{"line":49,"column":0}},{"generated":{"line":48,"column":0},"source":"script.js","original":{"line":50,"column":0}},{"name":"mediaRecorder","generated":{"line":48,"column":6},"source":"script.js","original":{"line":50,"column":6}},{"generated":{"line":48,"column":19},"source":"script.js","original":{"line":50,"column":19}},{"generated":{"line":48,"column":22},"source":"script.js","original":{"line":50,"column":22}},{"name":"MediaRecorder","generated":{"line":48,"column":26},"source":"script.js","original":{"line":50,"column":26}},{"generated":{"line":48,"column":39},"source":"script.js","original":{"line":50,"column":22}},{"name":"streamDestination","generated":{"line":48,"column":40},"source":"script.js","original":{"line":50,"column":40}},{"generated":{"line":48,"column":57},"source":"script.js","original":{"line":50,"column":57}},{"name":"stream","generated":{"line":48,"column":58},"source":"script.js","original":{"line":50,"column":58}},{"generated":{"line":48,"column":64},"source":"script.js","original":{"line":50,"column":22}},{"generated":{"line":48,"column":65},"source":"script.js","original":{"line":50,"column":0}},{"generated":{"line":49,"column":0},"source":"script.js","original":{"line":53,"column":0}},{"name":"startRecBtn","generated":{"line":49,"column":6},"source":"script.js","original":{"line":53,"column":6}},{"generated":{"line":49,"column":17},"source":"script.js","original":{"line":53,"column":17}},{"name":"document","generated":{"line":49,"column":20},"source":"script.js","original":{"line":53,"column":20}},{"generated":{"line":49,"column":28},"source":"script.js","original":{"line":53,"column":28}},{"name":"getElementById","generated":{"line":49,"column":29},"source":"script.js","original":{"line":53,"column":29}},{"generated":{"line":49,"column":43},"source":"script.js","original":{"line":53,"column":20}},{"generated":{"line":49,"column":44},"source":"script.js","original":{"line":53,"column":44}},{"generated":{"line":49,"column":61},"source":"script.js","original":{"line":53,"column":20}},{"generated":{"line":49,"column":62},"source":"script.js","original":{"line":53,"column":0}},{"generated":{"line":50,"column":0},"source":"script.js","original":{"line":54,"column":0}},{"name":"stopRecBtn","generated":{"line":50,"column":6},"source":"script.js","original":{"line":54,"column":6}},{"generated":{"line":50,"column":16},"source":"script.js","original":{"line":54,"column":16}},{"name":"document","generated":{"line":50,"column":19},"source":"script.js","original":{"line":54,"column":19}},{"generated":{"line":50,"column":27},"source":"script.js","original":{"line":54,"column":27}},{"name":"getElementById","generated":{"line":50,"column":28},"source":"script.js","original":{"line":54,"column":28}},{"generated":{"line":50,"column":42},"source":"script.js","original":{"line":54,"column":19}},{"generated":{"line":50,"column":43},"source":"script.js","original":{"line":54,"column":43}},{"generated":{"line":50,"column":59},"source":"script.js","original":{"line":54,"column":19}},{"generated":{"line":50,"column":60},"source":"script.js","original":{"line":54,"column":0}},{"name":"startRecBtn","generated":{"line":52,"column":0},"source":"script.js","original":{"line":55,"column":0}},{"generated":{"line":52,"column":11},"source":"script.js","original":{"line":55,"column":11}},{"name":"onclick","generated":{"line":52,"column":12},"source":"script.js","original":{"line":55,"column":12}},{"generated":{"line":52,"column":19},"source":"script.js","original":{"line":55,"column":0}},{"generated":{"line":52,"column":22},"source":"script.js","original":{"line":55,"column":22}},{"name":"startRecording","generated":{"line":52,"column":28},"source":"script.js","original":{"line":55,"column":28}},{"generated":{"line":52,"column":42},"source":"script.js","original":{"line":55,"column":42}},{"generated":{"line":52,"column":44},"source":"script.js","original":{"line":55,"column":0}},{"name":"stopRecBtn","generated":{"line":54,"column":0},"source":"script.js","original":{"line":56,"column":0}},{"generated":{"line":54,"column":10},"source":"script.js","original":{"line":56,"column":10}},{"name":"onclick","generated":{"line":54,"column":11},"source":"script.js","original":{"line":56,"column":11}},{"generated":{"line":54,"column":18},"source":"script.js","original":{"line":56,"column":0}},{"generated":{"line":54,"column":21},"source":"script.js","original":{"line":56,"column":21}},{"name":"stopRecording","generated":{"line":54,"column":27},"source":"script.js","original":{"line":56,"column":27}},{"generated":{"line":54,"column":40},"source":"script.js","original":{"line":56,"column":40}},{"generated":{"line":54,"column":42},"source":"script.js","original":{"line":56,"column":0}},{"name":"document","generated":{"line":56,"column":0},"source":"script.js","original":{"line":57,"column":0}},{"generated":{"line":56,"column":8},"source":"script.js","original":{"line":57,"column":8}},{"name":"body","generated":{"line":56,"column":9},"source":"script.js","original":{"line":57,"column":9}},{"generated":{"line":56,"column":13},"source":"script.js","original":{"line":57,"column":0}},{"name":"addEventListener","generated":{"line":56,"column":14},"source":"script.js","original":{"line":57,"column":14}},{"generated":{"line":56,"column":30},"source":"script.js","original":{"line":57,"column":0}},{"generated":{"line":56,"column":31},"source":"script.js","original":{"line":57,"column":31}},{"generated":{"line":56,"column":40},"source":"script.js","original":{"line":57,"column":0}},{"name":"e","generated":{"line":56,"column":42},"source":"script.js","original":{"line":57,"column":42}},{"generated":{"line":56,"column":43},"source":"script.js","original":{"line":57,"column":43}},{"generated":{"line":56,"column":47},"source":"script.js","original":{"line":57,"column":47}},{"generated":{"line":57,"column":0},"source":"script.js","original":{"line":58,"column":1}},{"name":"e","generated":{"line":57,"column":6},"source":"script.js","original":{"line":58,"column":4}},{"generated":{"line":57,"column":7},"source":"script.js","original":{"line":58,"column":5}},{"name":"keycode","generated":{"line":57,"column":8},"source":"script.js","original":{"line":58,"column":6}},{"generated":{"line":57,"column":15},"source":"script.js","original":{"line":58,"column":4}},{"generated":{"line":57,"column":19},"source":"script.js","original":{"line":58,"column":17}},{"generated":{"line":57,"column":21},"source":"script.js","original":{"line":58,"column":1}},{"generated":{"line":57,"column":23},"source":"script.js","original":{"line":58,"column":20}},{"name":"startRecording","generated":{"line":58,"column":0},"source":"script.js","original":{"line":58,"column":21}},{"name":"startRecording","generated":{"line":58,"column":4},"source":"script.js","original":{"line":58,"column":21}},{"generated":{"line":58,"column":18},"source":"script.js","original":{"line":58,"column":35}},{"generated":{"line":59,"column":0},"source":"script.js","original":{"line":58,"column":38}},{"generated":{"line":60,"column":0},"source":"script.js","original":{"line":58,"column":39}},{"generated":{"line":60,"column":1},"source":"script.js","original":{"line":57,"column":0}},{"generated":{"line":62,"column":0},"source":"script.js","original":{"line":59,"column":0}},{"name":"stopRecording","generated":{"line":62,"column":9},"source":"script.js","original":{"line":59,"column":9}},{"generated":{"line":62,"column":22},"source":"script.js","original":{"line":59,"column":0}},{"generated":{"line":62,"column":25},"source":"script.js","original":{"line":59,"column":25}},{"name":"console","generated":{"line":63,"column":0},"source":"script.js","original":{"line":60,"column":1}},{"name":"console","generated":{"line":63,"column":2},"source":"script.js","original":{"line":60,"column":1}},{"generated":{"line":63,"column":9},"source":"script.js","original":{"line":60,"column":8}},{"name":"log","generated":{"line":63,"column":10},"source":"script.js","original":{"line":60,"column":9}},{"generated":{"line":63,"column":13},"source":"script.js","original":{"line":60,"column":1}},{"generated":{"line":63,"column":14},"source":"script.js","original":{"line":60,"column":13}},{"generated":{"line":63,"column":33},"source":"script.js","original":{"line":60,"column":1}},{"generated":{"line":63,"column":35},"source":"script.js","original":{"line":59,"column":25}},{"generated":{"line":63,"column":36},"source":"script.js","original":{"line":61,"column":1}},{"name":"mediaRecorder","generated":{"line":65,"column":0},"source":"script.js","original":{"line":62,"column":1}},{"name":"mediaRecorder","generated":{"line":65,"column":2},"source":"script.js","original":{"line":62,"column":1}},{"generated":{"line":65,"column":15},"source":"script.js","original":{"line":62,"column":14}},{"name":"stop","generated":{"line":65,"column":16},"source":"script.js","original":{"line":62,"column":15}},{"generated":{"line":65,"column":20},"source":"script.js","original":{"line":62,"column":1}},{"generated":{"line":66,"column":0},"source":"script.js","original":{"line":63,"column":1}},{"generated":{"line":68,"column":0},"source":"script.js","original":{"line":64,"column":0}},{"name":"startRecording","generated":{"line":68,"column":9},"source":"script.js","original":{"line":64,"column":9}},{"generated":{"line":68,"column":23},"source":"script.js","original":{"line":64,"column":0}},{"generated":{"line":68,"column":26},"source":"script.js","original":{"line":64,"column":26}},{"name":"console","generated":{"line":69,"column":0},"source":"script.js","original":{"line":65,"column":1}},{"name":"console","generated":{"line":69,"column":2},"source":"script.js","original":{"line":65,"column":1}},{"generated":{"line":69,"column":9},"source":"script.js","original":{"line":65,"column":8}},{"name":"log","generated":{"line":69,"column":10},"source":"script.js","original":{"line":65,"column":9}},{"generated":{"line":69,"column":13},"source":"script.js","original":{"line":65,"column":1}},{"generated":{"line":69,"column":14},"source":"script.js","original":{"line":65,"column":13}},{"generated":{"line":69,"column":33},"source":"script.js","original":{"line":65,"column":1}},{"generated":{"line":69,"column":35},"source":"script.js","original":{"line":64,"column":26}},{"generated":{"line":69,"column":36},"source":"script.js","original":{"line":66,"column":1}},{"name":"waveSurfer","generated":{"line":71,"column":0},"source":"script.js","original":{"line":67,"column":1}},{"name":"waveSurfer","generated":{"line":71,"column":2},"source":"script.js","original":{"line":67,"column":1}},{"generated":{"line":71,"column":12},"source":"script.js","original":{"line":67,"column":11}},{"name":"play","generated":{"line":71,"column":13},"source":"script.js","original":{"line":67,"column":12}},{"generated":{"line":71,"column":17},"source":"script.js","original":{"line":67,"column":1}},{"name":"region1","generated":{"line":71,"column":18},"source":"script.js","original":{"line":67,"column":17}},{"generated":{"line":71,"column":25},"source":"script.js","original":{"line":67,"column":24}},{"name":"start","generated":{"line":71,"column":26},"source":"script.js","original":{"line":67,"column":25}},{"generated":{"line":71,"column":31},"source":"script.js","original":{"line":67,"column":1}},{"name":"region1","generated":{"line":71,"column":33},"source":"script.js","original":{"line":67,"column":32}},{"generated":{"line":71,"column":40},"source":"script.js","original":{"line":67,"column":39}},{"name":"end","generated":{"line":71,"column":41},"source":"script.js","original":{"line":67,"column":40}},{"generated":{"line":71,"column":44},"source":"script.js","original":{"line":67,"column":1}},{"generated":{"line":71,"column":46},"source":"script.js","original":{"line":64,"column":26}},{"generated":{"line":71,"column":47},"source":"script.js","original":{"line":68,"column":1}},{"generated":{"line":73,"column":0},"source":"script.js","original":{"line":69,"column":1}},{"name":"duration","generated":{"line":73,"column":8},"source":"script.js","original":{"line":69,"column":7}},{"generated":{"line":73,"column":16},"source":"script.js","original":{"line":69,"column":15}},{"name":"region1","generated":{"line":73,"column":19},"source":"script.js","original":{"line":69,"column":18}},{"generated":{"line":73,"column":26},"source":"script.js","original":{"line":69,"column":25}},{"name":"end","generated":{"line":73,"column":27},"source":"script.js","original":{"line":69,"column":26}},{"generated":{"line":73,"column":30},"source":"script.js","original":{"line":69,"column":18}},{"name":"region1","generated":{"line":73,"column":33},"source":"script.js","original":{"line":69,"column":32}},{"generated":{"line":73,"column":40},"source":"script.js","original":{"line":69,"column":39}},{"name":"start","generated":{"line":73,"column":41},"source":"script.js","original":{"line":69,"column":40}},{"generated":{"line":73,"column":46},"source":"script.js","original":{"line":69,"column":1}},{"name":"mediaRecorder","generated":{"line":74,"column":0},"source":"script.js","original":{"line":70,"column":1}},{"name":"mediaRecorder","generated":{"line":74,"column":2},"source":"script.js","original":{"line":70,"column":1}},{"generated":{"line":74,"column":15},"source":"script.js","original":{"line":70,"column":14}},{"name":"start","generated":{"line":74,"column":16},"source":"script.js","original":{"line":70,"column":15}},{"generated":{"line":74,"column":21},"source":"script.js","original":{"line":70,"column":1}},{"name":"setTimeout","generated":{"line":75,"column":0},"source":"script.js","original":{"line":71,"column":1}},{"name":"setTimeout","generated":{"line":75,"column":2},"source":"script.js","original":{"line":71,"column":1}},{"generated":{"line":75,"column":12},"source":"script.js","original":{"line":71,"column":11}},{"name":"stopRecording","generated":{"line":75,"column":13},"source":"script.js","original":{"line":71,"column":12}},{"generated":{"line":75,"column":26},"source":"script.js","original":{"line":71,"column":11}},{"name":"duration","generated":{"line":75,"column":28},"source":"script.js","original":{"line":71,"column":27}},{"generated":{"line":75,"column":36},"source":"script.js","original":{"line":71,"column":35}},{"generated":{"line":75,"column":39},"source":"script.js","original":{"line":71,"column":38}},{"generated":{"line":75,"column":43},"source":"script.js","original":{"line":71,"column":11}},{"generated":{"line":75,"column":44},"source":"script.js","original":{"line":71,"column":1}},{"generated":{"line":76,"column":0},"source":"script.js","original":{"line":72,"column":1}},{"generated":{"line":78,"column":0},"source":"script.js","original":{"line":74,"column":0}},{"name":"audio","generated":{"line":78,"column":4},"source":"script.js","original":{"line":74,"column":4}},{"generated":{"line":78,"column":9},"source":"script.js","original":{"line":74,"column":9}},{"name":"document","generated":{"line":78,"column":12},"source":"script.js","original":{"line":74,"column":12}},{"generated":{"line":78,"column":20},"source":"script.js","original":{"line":74,"column":20}},{"name":"getElementById","generated":{"line":78,"column":21},"source":"script.js","original":{"line":74,"column":21}},{"generated":{"line":78,"column":35},"source":"script.js","original":{"line":74,"column":12}},{"generated":{"line":78,"column":36},"source":"script.js","original":{"line":74,"column":36}},{"generated":{"line":78,"column":43},"source":"script.js","original":{"line":74,"column":12}},{"generated":{"line":78,"column":44},"source":"script.js","original":{"line":74,"column":0}},{"generated":{"line":79,"column":0},"source":"script.js","original":{"line":75,"column":0}},{"name":"sampleContainer","generated":{"line":79,"column":6},"source":"script.js","original":{"line":75,"column":6}},{"generated":{"line":79,"column":21},"source":"script.js","original":{"line":75,"column":21}},{"name":"document","generated":{"line":79,"column":24},"source":"script.js","original":{"line":75,"column":24}},{"generated":{"line":79,"column":32},"source":"script.js","original":{"line":75,"column":32}},{"name":"querySelector","generated":{"line":79,"column":33},"source":"script.js","original":{"line":75,"column":33}},{"generated":{"line":79,"column":46},"source":"script.js","original":{"line":75,"column":24}},{"generated":{"line":79,"column":47},"source":"script.js","original":{"line":75,"column":47}},{"generated":{"line":79,"column":66},"source":"script.js","original":{"line":75,"column":24}},{"generated":{"line":79,"column":67},"source":"script.js","original":{"line":75,"column":0}},{"generated":{"line":81,"column":0},"source":"script.js","original":{"line":76,"column":0}},{"name":"renderSamples","generated":{"line":81,"column":9},"source":"script.js","original":{"line":76,"column":9}},{"generated":{"line":81,"column":22},"source":"script.js","original":{"line":76,"column":0}},{"generated":{"line":81,"column":25},"source":"script.js","original":{"line":76,"column":24}},{"name":"allSamples","generated":{"line":82,"column":0},"source":"script.js","original":{"line":77,"column":1}},{"name":"allSamples","generated":{"line":82,"column":2},"source":"script.js","original":{"line":77,"column":1}},{"generated":{"line":82,"column":12},"source":"script.js","original":{"line":77,"column":11}},{"name":"forEach","generated":{"line":82,"column":13},"source":"script.js","original":{"line":77,"column":12}},{"generated":{"line":82,"column":20},"source":"script.js","original":{"line":77,"column":1}},{"name":"dataElement","generated":{"line":82,"column":21},"source":"script.js","original":{"line":77,"column":20}},{"generated":{"line":82,"column":32},"source":"script.js","original":{"line":77,"column":31}},{"generated":{"line":82,"column":36},"source":"script.js","original":{"line":77,"column":35}},{"generated":{"line":83,"column":0},"source":"script.js","original":{"line":78,"column":2}},{"generated":{"line":84,"column":0},"source":"script.js","original":{"line":79,"column":2}},{"name":"audioElement","generated":{"line":84,"column":10},"source":"script.js","original":{"line":79,"column":8}},{"generated":{"line":84,"column":22},"source":"script.js","original":{"line":79,"column":20}},{"name":"document","generated":{"line":84,"column":25},"source":"script.js","original":{"line":79,"column":23}},{"generated":{"line":84,"column":33},"source":"script.js","original":{"line":79,"column":31}},{"name":"createElement","generated":{"line":84,"column":34},"source":"script.js","original":{"line":79,"column":32}},{"generated":{"line":84,"column":47},"source":"script.js","original":{"line":79,"column":23}},{"generated":{"line":84,"column":48},"source":"script.js","original":{"line":79,"column":46}},{"generated":{"line":84,"column":55},"source":"script.js","original":{"line":79,"column":23}},{"generated":{"line":84,"column":56},"source":"script.js","original":{"line":79,"column":2}},{"name":"audioElement","generated":{"line":85,"column":0},"source":"script.js","original":{"line":80,"column":2}},{"name":"audioElement","generated":{"line":85,"column":4},"source":"script.js","original":{"line":80,"column":2}},{"generated":{"line":85,"column":16},"source":"script.js","original":{"line":80,"column":14}},{"name":"src","generated":{"line":85,"column":17},"source":"script.js","original":{"line":80,"column":15}},{"generated":{"line":85,"column":20},"source":"script.js","original":{"line":80,"column":2}},{"name":"URL","generated":{"line":85,"column":23},"source":"script.js","original":{"line":80,"column":21}},{"generated":{"line":85,"column":26},"source":"script.js","original":{"line":80,"column":24}},{"name":"createObjectURL","generated":{"line":85,"column":27},"source":"script.js","original":{"line":80,"column":25}},{"generated":{"line":85,"column":42},"source":"script.js","original":{"line":80,"column":21}},{"name":"dataElement","generated":{"line":85,"column":43},"source":"script.js","original":{"line":80,"column":41}},{"generated":{"line":85,"column":54},"source":"script.js","original":{"line":80,"column":21}},{"generated":{"line":85,"column":55},"source":"script.js","original":{"line":80,"column":2}},{"name":"audioElement","generated":{"line":86,"column":0},"source":"script.js","original":{"line":81,"column":2}},{"name":"audioElement","generated":{"line":86,"column":4},"source":"script.js","original":{"line":81,"column":2}},{"generated":{"line":86,"column":16},"source":"script.js","original":{"line":81,"column":14}},{"name":"setAttribute","generated":{"line":86,"column":17},"source":"script.js","original":{"line":81,"column":15}},{"generated":{"line":86,"column":29},"source":"script.js","original":{"line":81,"column":2}},{"generated":{"line":86,"column":30},"source":"script.js","original":{"line":81,"column":28}},{"generated":{"line":86,"column":40},"source":"script.js","original":{"line":81,"column":2}},{"generated":{"line":86,"column":42},"source":"script.js","original":{"line":81,"column":40}},{"generated":{"line":86,"column":46},"source":"script.js","original":{"line":81,"column":2}},{"name":"sampleContainer","generated":{"line":87,"column":0},"source":"script.js","original":{"line":82,"column":2}},{"name":"sampleContainer","generated":{"line":87,"column":4},"source":"script.js","original":{"line":82,"column":2}},{"generated":{"line":87,"column":19},"source":"script.js","original":{"line":82,"column":17}},{"name":"appendChild","generated":{"line":87,"column":20},"source":"script.js","original":{"line":82,"column":18}},{"generated":{"line":87,"column":31},"source":"script.js","original":{"line":82,"column":2}},{"name":"audioElement","generated":{"line":87,"column":32},"source":"script.js","original":{"line":82,"column":30}},{"generated":{"line":87,"column":44},"source":"script.js","original":{"line":82,"column":2}},{"generated":{"line":87,"column":46},"source":"script.js","original":{"line":77,"column":35}},{"generated":{"line":87,"column":47},"source":"script.js","original":{"line":84,"column":2}},{"generated":{"line":89,"column":0},"source":"script.js","original":{"line":85,"column":2}},{"name":"recordedChunks","generated":{"line":89,"column":8},"source":"script.js","original":{"line":85,"column":6}},{"generated":{"line":89,"column":22},"source":"script.js","original":{"line":85,"column":20}},{"generated":{"line":89,"column":25},"source":"script.js","original":{"line":85,"column":23}},{"generated":{"line":89,"column":27},"source":"script.js","original":{"line":85,"column":2}},{"generated":{"line":91,"column":0},"source":"script.js","original":{"line":86,"column":2}},{"name":"dataElement","generated":{"line":91,"column":8},"source":"script.js","original":{"line":86,"column":5}},{"generated":{"line":91,"column":19},"source":"script.js","original":{"line":86,"column":16}},{"name":"size","generated":{"line":91,"column":20},"source":"script.js","original":{"line":86,"column":17}},{"generated":{"line":91,"column":24},"source":"script.js","original":{"line":86,"column":5}},{"generated":{"line":91,"column":27},"source":"script.js","original":{"line":86,"column":24}},{"generated":{"line":91,"column":28},"source":"script.js","original":{"line":86,"column":2}},{"generated":{"line":91,"column":30},"source":"script.js","original":{"line":86,"column":26}},{"name":"recordedChunks","generated":{"line":92,"column":0},"source":"script.js","original":{"line":87,"column":3}},{"name":"recordedChunks","generated":{"line":92,"column":6},"source":"script.js","original":{"line":87,"column":3}},{"generated":{"line":92,"column":20},"source":"script.js","original":{"line":87,"column":17}},{"name":"push","generated":{"line":92,"column":21},"source":"script.js","original":{"line":87,"column":18}},{"generated":{"line":92,"column":25},"source":"script.js","original":{"line":87,"column":3}},{"name":"dataElement","generated":{"line":92,"column":26},"source":"script.js","original":{"line":87,"column":23}},{"generated":{"line":92,"column":37},"source":"script.js","original":{"line":87,"column":3}},{"name":"download","generated":{"line":93,"column":0},"source":"script.js","original":{"line":88,"column":3}},{"name":"download","generated":{"line":93,"column":6},"source":"script.js","original":{"line":88,"column":3}},{"generated":{"line":93,"column":14},"source":"script.js","original":{"line":88,"column":11}},{"name":"recordedChunks","generated":{"line":93,"column":15},"source":"script.js","original":{"line":88,"column":12}},{"generated":{"line":93,"column":29},"source":"script.js","original":{"line":88,"column":11}},{"generated":{"line":93,"column":30},"source":"script.js","original":{"line":88,"column":3}},{"generated":{"line":94,"column":0},"source":"script.js","original":{"line":89,"column":3}},{"generated":{"line":95,"column":0},"source":"script.js","original":{"line":90,"column":2}},{"generated":{"line":95,"column":3},"source":"script.js","original":{"line":77,"column":1}},{"generated":{"line":96,"column":0},"source":"script.js","original":{"line":91,"column":1}},{"generated":{"line":98,"column":0},"source":"script.js","original":{"line":94,"column":0}},{"name":"createNewSample","generated":{"line":98,"column":9},"source":"script.js","original":{"line":94,"column":9}},{"generated":{"line":98,"column":24},"source":"script.js","original":{"line":94,"column":0}},{"name":"data","generated":{"line":98,"column":25},"source":"script.js","original":{"line":94,"column":25}},{"generated":{"line":98,"column":29},"source":"script.js","original":{"line":94,"column":0}},{"generated":{"line":98,"column":31},"source":"script.js","original":{"line":94,"column":31}},{"generated":{"line":99,"column":0},"source":"script.js","original":{"line":95,"column":1}},{"name":"allSamples","generated":{"line":100,"column":0},"source":"script.js","original":{"line":96,"column":1}},{"name":"allSamples","generated":{"line":100,"column":2},"source":"script.js","original":{"line":96,"column":1}},{"generated":{"line":100,"column":12},"source":"script.js","original":{"line":96,"column":11}},{"name":"push","generated":{"line":100,"column":13},"source":"script.js","original":{"line":96,"column":12}},{"generated":{"line":100,"column":17},"source":"script.js","original":{"line":96,"column":1}},{"name":"data","generated":{"line":100,"column":18},"source":"script.js","original":{"line":96,"column":17}},{"generated":{"line":100,"column":22},"source":"script.js","original":{"line":96,"column":1}},{"generated":{"line":100,"column":24},"source":"script.js","original":{"line":94,"column":31}},{"generated":{"line":100,"column":25},"source":"script.js","original":{"line":97,"column":1}},{"name":"renderSamples","generated":{"line":102,"column":0},"source":"script.js","original":{"line":98,"column":1}},{"name":"renderSamples","generated":{"line":102,"column":2},"source":"script.js","original":{"line":98,"column":1}},{"generated":{"line":102,"column":15},"source":"script.js","original":{"line":98,"column":14}},{"generated":{"line":103,"column":0},"source":"script.js","original":{"line":101,"column":1}},{"generated":{"line":105,"column":0},"source":"script.js","original":{"line":102,"column":0}},{"name":"onRecordingReady","generated":{"line":105,"column":6},"source":"script.js","original":{"line":102,"column":6}},{"generated":{"line":105,"column":22},"source":"script.js","original":{"line":102,"column":22}},{"name":"e","generated":{"line":105,"column":25},"source":"script.js","original":{"line":102,"column":25}},{"generated":{"line":105,"column":26},"source":"script.js","original":{"line":102,"column":26}},{"name":"createNewSample","generated":{"line":105,"column":30},"source":"script.js","original":{"line":102,"column":30}},{"generated":{"line":105,"column":45},"source":"script.js","original":{"line":102,"column":45}},{"name":"e","generated":{"line":105,"column":46},"source":"script.js","original":{"line":102,"column":46}},{"generated":{"line":105,"column":47},"source":"script.js","original":{"line":102,"column":47}},{"name":"data","generated":{"line":105,"column":48},"source":"script.js","original":{"line":102,"column":48}},{"generated":{"line":105,"column":52},"source":"script.js","original":{"line":102,"column":45}},{"generated":{"line":105,"column":53},"source":"script.js","original":{"line":102,"column":0}},{"generated":{"line":105,"column":55},"source":"script.js","original":{"line":104,"column":0}},{"name":"mediaRecorder","generated":{"line":108,"column":0},"source":"script.js","original":{"line":105,"column":0}},{"generated":{"line":108,"column":13},"source":"script.js","original":{"line":105,"column":13}},{"name":"addEventListener","generated":{"line":108,"column":14},"source":"script.js","original":{"line":105,"column":14}},{"generated":{"line":108,"column":30},"source":"script.js","original":{"line":105,"column":0}},{"generated":{"line":108,"column":31},"source":"script.js","original":{"line":105,"column":31}},{"generated":{"line":108,"column":46},"source":"script.js","original":{"line":105,"column":0}},{"name":"onRecordingReady","generated":{"line":108,"column":48},"source":"script.js","original":{"line":105,"column":48}},{"generated":{"line":108,"column":64},"source":"script.js","original":{"line":105,"column":0}},{"generated":{"line":110,"column":0},"source":"script.js","original":{"line":107,"column":0}},{"name":"download","generated":{"line":110,"column":9},"source":"script.js","original":{"line":107,"column":9}},{"generated":{"line":110,"column":17},"source":"script.js","original":{"line":107,"column":0}},{"name":"recordedChunks","generated":{"line":110,"column":18},"source":"script.js","original":{"line":107,"column":18}},{"generated":{"line":110,"column":32},"source":"script.js","original":{"line":107,"column":0}},{"generated":{"line":110,"column":34},"source":"script.js","original":{"line":107,"column":34}},{"generated":{"line":111,"column":0},"source":"script.js","original":{"line":108,"column":2}},{"name":"blob","generated":{"line":111,"column":6},"source":"script.js","original":{"line":108,"column":6}},{"generated":{"line":111,"column":10},"source":"script.js","original":{"line":108,"column":10}},{"generated":{"line":111,"column":13},"source":"script.js","original":{"line":108,"column":13}},{"name":"Blob","generated":{"line":111,"column":17},"source":"script.js","original":{"line":108,"column":17}},{"generated":{"line":111,"column":21},"source":"script.js","original":{"line":108,"column":13}},{"name":"recordedChunks","generated":{"line":111,"column":22},"source":"script.js","original":{"line":108,"column":22}},{"generated":{"line":111,"column":36},"source":"script.js","original":{"line":108,"column":13}},{"generated":{"line":111,"column":38},"source":"script.js","original":{"line":108,"column":38}},{"name":"type","generated":{"line":112,"column":0},"source":"script.js","original":{"line":109,"column":4}},{"name":"type","generated":{"line":112,"column":4},"source":"script.js","original":{"line":109,"column":4}},{"generated":{"line":112,"column":8},"source":"script.js","original":{"line":109,"column":8}},{"generated":{"line":112,"column":10},"source":"script.js","original":{"line":109,"column":10}},{"generated":{"line":113,"column":0},"source":"script.js","original":{"line":108,"column":38}},{"generated":{"line":113,"column":3},"source":"script.js","original":{"line":108,"column":13}},{"generated":{"line":113,"column":4},"source":"script.js","original":{"line":108,"column":2}},{"generated":{"line":114,"column":0},"source":"script.js","original":{"line":111,"column":2}},{"name":"url","generated":{"line":114,"column":6},"source":"script.js","original":{"line":111,"column":6}},{"generated":{"line":114,"column":9},"source":"script.js","original":{"line":111,"column":9}},{"name":"URL","generated":{"line":114,"column":12},"source":"script.js","original":{"line":111,"column":12}},{"generated":{"line":114,"column":15},"source":"script.js","original":{"line":111,"column":15}},{"name":"createObjectURL","generated":{"line":114,"column":16},"source":"script.js","original":{"line":111,"column":16}},{"generated":{"line":114,"column":31},"source":"script.js","original":{"line":111,"column":12}},{"name":"blob","generated":{"line":114,"column":32},"source":"script.js","original":{"line":111,"column":32}},{"generated":{"line":114,"column":36},"source":"script.js","original":{"line":111,"column":12}},{"generated":{"line":114,"column":37},"source":"script.js","original":{"line":111,"column":2}},{"generated":{"line":115,"column":0},"source":"script.js","original":{"line":112,"column":1}},{"name":"a","generated":{"line":115,"column":6},"source":"script.js","original":{"line":112,"column":5}},{"generated":{"line":115,"column":7},"source":"script.js","original":{"line":112,"column":6}},{"name":"document","generated":{"line":115,"column":10},"source":"script.js","original":{"line":112,"column":9}},{"generated":{"line":115,"column":18},"source":"script.js","original":{"line":112,"column":17}},{"name":"createElement","generated":{"line":115,"column":19},"source":"script.js","original":{"line":112,"column":18}},{"generated":{"line":115,"column":32},"source":"script.js","original":{"line":112,"column":9}},{"generated":{"line":115,"column":33},"source":"script.js","original":{"line":112,"column":32}},{"generated":{"line":115,"column":36},"source":"script.js","original":{"line":112,"column":9}},{"generated":{"line":115,"column":37},"source":"script.js","original":{"line":112,"column":1}},{"name":"sampleContainer","generated":{"line":116,"column":0},"source":"script.js","original":{"line":114,"column":2}},{"name":"sampleContainer","generated":{"line":116,"column":2},"source":"script.js","original":{"line":114,"column":2}},{"generated":{"line":116,"column":17},"source":"script.js","original":{"line":114,"column":17}},{"name":"appendChild","generated":{"line":116,"column":18},"source":"script.js","original":{"line":114,"column":18}},{"generated":{"line":116,"column":29},"source":"script.js","original":{"line":114,"column":2}},{"name":"a","generated":{"line":116,"column":30},"source":"script.js","original":{"line":114,"column":30}},{"generated":{"line":116,"column":31},"source":"script.js","original":{"line":114,"column":2}},{"name":"a","generated":{"line":117,"column":0},"source":"script.js","original":{"line":115,"column":1}},{"name":"a","generated":{"line":117,"column":2},"source":"script.js","original":{"line":115,"column":1}},{"generated":{"line":117,"column":3},"source":"script.js","original":{"line":115,"column":2}},{"name":"innerText","generated":{"line":117,"column":4},"source":"script.js","original":{"line":115,"column":3}},{"generated":{"line":117,"column":13},"source":"script.js","original":{"line":115,"column":1}},{"generated":{"line":117,"column":16},"source":"script.js","original":{"line":115,"column":15}},{"generated":{"line":117,"column":33},"source":"script.js","original":{"line":115,"column":1}},{"name":"a","generated":{"line":118,"column":0},"source":"script.js","original":{"line":116,"column":2}},{"name":"a","generated":{"line":118,"column":2},"source":"script.js","original":{"line":116,"column":2}},{"generated":{"line":118,"column":3},"source":"script.js","original":{"line":116,"column":3}},{"name":"href","generated":{"line":118,"column":4},"source":"script.js","original":{"line":116,"column":4}},{"generated":{"line":118,"column":8},"source":"script.js","original":{"line":116,"column":2}},{"name":"url","generated":{"line":118,"column":11},"source":"script.js","original":{"line":116,"column":11}},{"generated":{"line":118,"column":14},"source":"script.js","original":{"line":116,"column":2}},{"name":"a","generated":{"line":119,"column":0},"source":"script.js","original":{"line":117,"column":2}},{"name":"a","generated":{"line":119,"column":2},"source":"script.js","original":{"line":117,"column":2}},{"generated":{"line":119,"column":3},"source":"script.js","original":{"line":117,"column":3}},{"name":"download","generated":{"line":119,"column":4},"source":"script.js","original":{"line":117,"column":4}},{"generated":{"line":119,"column":12},"source":"script.js","original":{"line":117,"column":2}},{"generated":{"line":119,"column":15},"source":"script.js","original":{"line":117,"column":15}},{"generated":{"line":119,"column":27},"source":"script.js","original":{"line":117,"column":2}},{"generated":{"line":119,"column":28},"source":"script.js","original":{"line":107,"column":34}},{"generated":{"line":119,"column":29},"source":"script.js","original":{"line":118,"column":2}},{"generated":{"line":120,"column":0},"source":"script.js","original":{"line":119,"column":1}},{"generated":{"line":122,"column":0},"source":"script.js","original":{"line":122,"column":0}},{"name":"region1","generated":{"line":122,"column":6},"source":"script.js","original":{"line":122,"column":6}},{"generated":{"line":122,"column":13},"source":"script.js","original":{"line":122,"column":13}},{"name":"waveSurfer","generated":{"line":122,"column":16},"source":"script.js","original":{"line":122,"column":16}},{"generated":{"line":122,"column":26},"source":"script.js","original":{"line":122,"column":26}},{"name":"addRegion","generated":{"line":122,"column":27},"source":"script.js","original":{"line":122,"column":27}},{"generated":{"line":122,"column":36},"source":"script.js","original":{"line":122,"column":16}},{"generated":{"line":122,"column":37},"source":"script.js","original":{"line":122,"column":37}},{"name":"start","generated":{"line":123,"column":0},"source":"script.js","original":{"line":123,"column":1}},{"name":"start","generated":{"line":123,"column":2},"source":"script.js","original":{"line":123,"column":1}},{"generated":{"line":123,"column":7},"source":"script.js","original":{"line":123,"column":6}},{"generated":{"line":123,"column":9},"source":"script.js","original":{"line":123,"column":8}},{"generated":{"line":123,"column":10},"source":"script.js","original":{"line":122,"column":37}},{"name":"end","generated":{"line":124,"column":0},"source":"script.js","original":{"line":124,"column":1}},{"name":"end","generated":{"line":124,"column":2},"source":"script.js","original":{"line":124,"column":1}},{"generated":{"line":124,"column":5},"source":"script.js","original":{"line":124,"column":4}},{"generated":{"line":124,"column":7},"source":"script.js","original":{"line":124,"column":6}},{"generated":{"line":124,"column":8},"source":"script.js","original":{"line":122,"column":37}},{"name":"loop","generated":{"line":125,"column":0},"source":"script.js","original":{"line":125,"column":1}},{"name":"loop","generated":{"line":125,"column":2},"source":"script.js","original":{"line":125,"column":1}},{"generated":{"line":125,"column":6},"source":"script.js","original":{"line":125,"column":5}},{"generated":{"line":125,"column":8},"source":"script.js","original":{"line":125,"column":7}},{"generated":{"line":125,"column":13},"source":"script.js","original":{"line":122,"column":37}},{"name":"color","generated":{"line":126,"column":0},"source":"script.js","original":{"line":126,"column":1}},{"name":"color","generated":{"line":126,"column":2},"source":"script.js","original":{"line":126,"column":1}},{"generated":{"line":126,"column":7},"source":"script.js","original":{"line":126,"column":6}},{"generated":{"line":126,"column":9},"source":"script.js","original":{"line":126,"column":8}},{"generated":{"line":127,"column":0},"source":"script.js","original":{"line":122,"column":37}},{"generated":{"line":127,"column":1},"source":"script.js","original":{"line":122,"column":16}},{"generated":{"line":127,"column":2},"source":"script.js","original":{"line":122,"column":0}},{"generated":{"line":128,"column":0},"source":"script.js","original":{"line":129,"column":0}},{"name":"playBtn","generated":{"line":128,"column":6},"source":"script.js","original":{"line":129,"column":6}},{"generated":{"line":128,"column":13},"source":"script.js","original":{"line":129,"column":13}},{"name":"document","generated":{"line":128,"column":16},"source":"script.js","original":{"line":129,"column":16}},{"generated":{"line":128,"column":24},"source":"script.js","original":{"line":129,"column":24}},{"name":"querySelector","generated":{"line":128,"column":25},"source":"script.js","original":{"line":129,"column":25}},{"generated":{"line":128,"column":38},"source":"script.js","original":{"line":129,"column":16}},{"generated":{"line":128,"column":39},"source":"script.js","original":{"line":129,"column":39}},{"generated":{"line":128,"column":46},"source":"script.js","original":{"line":129,"column":16}},{"generated":{"line":128,"column":47},"source":"script.js","original":{"line":129,"column":0}},{"generated":{"line":129,"column":0},"source":"script.js","original":{"line":130,"column":0}},{"name":"stopBtn","generated":{"line":129,"column":6},"source":"script.js","original":{"line":130,"column":6}},{"generated":{"line":129,"column":13},"source":"script.js","original":{"line":130,"column":13}},{"name":"document","generated":{"line":129,"column":16},"source":"script.js","original":{"line":130,"column":16}},{"generated":{"line":129,"column":24},"source":"script.js","original":{"line":130,"column":24}},{"name":"querySelector","generated":{"line":129,"column":25},"source":"script.js","original":{"line":130,"column":25}},{"generated":{"line":129,"column":38},"source":"script.js","original":{"line":130,"column":16}},{"generated":{"line":129,"column":39},"source":"script.js","original":{"line":130,"column":39}},{"generated":{"line":129,"column":46},"source":"script.js","original":{"line":130,"column":16}},{"generated":{"line":129,"column":47},"source":"script.js","original":{"line":130,"column":0}},{"name":"playBtn","generated":{"line":131,"column":0},"source":"script.js","original":{"line":131,"column":0}},{"generated":{"line":131,"column":7},"source":"script.js","original":{"line":131,"column":7}},{"name":"onclick","generated":{"line":131,"column":8},"source":"script.js","original":{"line":131,"column":8}},{"generated":{"line":131,"column":15},"source":"script.js","original":{"line":131,"column":0}},{"generated":{"line":131,"column":18},"source":"script.js","original":{"line":131,"column":18}},{"generated":{"line":131,"column":24},"source":"script.js","original":{"line":131,"column":24}},{"name":"waveSurfer","generated":{"line":132,"column":0},"source":"script.js","original":{"line":132,"column":1}},{"name":"waveSurfer","generated":{"line":132,"column":2},"source":"script.js","original":{"line":132,"column":1}},{"generated":{"line":132,"column":12},"source":"script.js","original":{"line":132,"column":11}},{"name":"play","generated":{"line":132,"column":13},"source":"script.js","original":{"line":132,"column":12}},{"generated":{"line":132,"column":17},"source":"script.js","original":{"line":132,"column":1}},{"name":"region1","generated":{"line":132,"column":18},"source":"script.js","original":{"line":132,"column":17}},{"generated":{"line":132,"column":25},"source":"script.js","original":{"line":132,"column":24}},{"name":"start","generated":{"line":132,"column":26},"source":"script.js","original":{"line":132,"column":25}},{"generated":{"line":132,"column":31},"source":"script.js","original":{"line":132,"column":1}},{"name":"region1","generated":{"line":132,"column":33},"source":"script.js","original":{"line":132,"column":32}},{"generated":{"line":132,"column":40},"source":"script.js","original":{"line":132,"column":39}},{"name":"end","generated":{"line":132,"column":41},"source":"script.js","original":{"line":132,"column":40}},{"generated":{"line":132,"column":44},"source":"script.js","original":{"line":132,"column":1}},{"generated":{"line":133,"column":0},"source":"script.js","original":{"line":133,"column":1}},{"generated":{"line":133,"column":1},"source":"script.js","original":{"line":131,"column":0}},{"name":"stopBtn","generated":{"line":135,"column":0},"source":"script.js","original":{"line":134,"column":0}},{"generated":{"line":135,"column":7},"source":"script.js","original":{"line":134,"column":7}},{"name":"onclick","generated":{"line":135,"column":8},"source":"script.js","original":{"line":134,"column":8}},{"generated":{"line":135,"column":15},"source":"script.js","original":{"line":134,"column":0}},{"generated":{"line":135,"column":18},"source":"script.js","original":{"line":134,"column":18}},{"name":"waveSurfer","generated":{"line":135,"column":24},"source":"script.js","original":{"line":134,"column":24}},{"generated":{"line":135,"column":34},"source":"script.js","original":{"line":134,"column":34}},{"name":"stop","generated":{"line":135,"column":35},"source":"script.js","original":{"line":134,"column":35}},{"generated":{"line":135,"column":39},"source":"script.js","original":{"line":134,"column":24}},{"generated":{"line":135,"column":41},"source":"script.js","original":{"line":134,"column":0}}],"sources":{"script.js":"import WaveSurfer from \"wavesurfer.js\"\n// import sample from \"./ursula.mp3\"\nimport sample from \"./garoto.mp3\"\nimport RegionsPlugin from \"./node_modules/wavesurfer.js/dist/plugin/wavesurfer.regions\"\nimport * as Tone from \"tone\"\n\nlet allSamples = []\n\n\nconst waveSurfer = WaveSurfer.create({\n\tcontainer: \"#wavesurfer-container\",\n\twaveColor: \"violet\",\n\tprogressColor: \"purple\",\n\tbackend: \"MediaElementWebAudio\",\n\tplugins: [\n\t\tRegionsPlugin.create({\n\t\t\tregionsMinLength: 0,\n\t\t\tregions: [],\n\t\t\tdragSelection: {\n\t\t\t\tslop: 1,\n\t\t\t},\n\t\t}),\n\t],\n})\n\nwaveSurfer.load(sample)\n\ndocument.querySelector('#slider').oninput = function () {\n\twaveSurfer.zoom(Number(this.value));\n};\n\n\n\n\n\n// Creates a mediastream for mediaRecorder\nconst streamDestination = waveSurfer.backend.ac.createMediaStreamDestination()\n\n// Creates a gainNode to use as a wavesurfer filter (just needs to be something for the audio to pass through)\nconst gainNode = waveSurfer.backend.ac.createGain()\n\n// Connects gain node to the audio stream\ngainNode.connect(streamDestination)\n\nwaveSurfer.backend.setFilter(gainNode)\n\n\n\n// Sets up media recorder\nconst mediaRecorder = new MediaRecorder(streamDestination.stream)\n\n\nconst startRecBtn = document.getElementById(\"start-recording\")\nconst stopRecBtn = document.getElementById(\"stop-recording\")\nstartRecBtn.onclick = () => startRecording()\nstopRecBtn.onclick = () => stopRecording()\ndocument.body.addEventListener(\"keydown\", e => {\n\tif(e.keycode == 32){startRecording()}})\nfunction stopRecording() {\n\tconsole.log(\"recording stopped\")\n\t// Stopping the recorder will eventually trigger the `dataavailable` event and we can complete the recording process\n\tmediaRecorder.stop()\n}\nfunction startRecording() {\n\tconsole.log(\"recording started\")\n\t//Starts playing the sample\n\twaveSurfer.play(region1.start, region1.end)\n\t//Determines the length of the sample and stops the recorder after the sample has finished playing\n\tconst duration = region1.end - region1.start\n\tmediaRecorder.start()\n\tsetTimeout(stopRecording, duration * 1000)\n}\n\nvar audio = document.getElementById(\"audio\")\nconst sampleContainer = document.querySelector(\"#sample-container\")\nfunction renderSamples(){\n\tallSamples.forEach(dataElement => {\n\t\t//make audio object\n\t\tconst audioElement = document.createElement('audio')\n\t\taudioElement.src = URL.createObjectURL(dataElement)\n\t\taudioElement.setAttribute(\"controls\", true)\n\t\tsampleContainer.appendChild(audioElement)\n\n\t\t//make recording link\n\t\tlet recordedChunks = []\n\t\tif(dataElement.size > 0){\n\t\t\trecordedChunks.push(dataElement)\n\t\t\tdownload(recordedChunks)\n\t\t}\n\t})\n}\n\n\nfunction createNewSample(data) {\n\t//add data to array\n\tallSamples.push(data)\n\t//render all recordings function\n\trenderSamples()\n\n\n}\nconst onRecordingReady = e => createNewSample(e.data)\n\n// This triggers when the file is ready for playback\nmediaRecorder.addEventListener(\"dataavailable\", onRecordingReady)\n\nfunction download(recordedChunks) {\n  var blob = new Blob(recordedChunks, {\n    type: \"audio/wav; codecs=MS_PCM\"\n  });\n  var url = URL.createObjectURL(blob);\n\tvar a = document.createElement(\"a\");\n\t\n  sampleContainer.appendChild(a);\n\ta.innerText = 'Download Sample'\n  a.href = url;\n  a.download = \"sample.wav\";\n  // window.URL.revokeObjectURL(url);\n}\n\n\nconst region1 = waveSurfer.addRegion({\n\tstart: 1,\n\tend: 9,\n\tloop: false,\n\tcolor: \"hsla(400, 100%, 30%, 0.5)\",\n})\n\nconst playBtn = document.querySelector(\"#play\")\nconst stopBtn = document.querySelector(\"#stop\")\nplayBtn.onclick = () => {\n\twaveSurfer.play(region1.start, region1.end)\n}\nstopBtn.onclick = () => waveSurfer.stop()\n"},"lineCount":null}},"error":null,"hash":"926b0026d2bcea4017f0c2c7af6da88e","cacheData":{"env":{}}}